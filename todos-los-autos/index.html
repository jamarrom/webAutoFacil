<!DOCTYPE html>
<html>
	<head>
	<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<link href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Montserrat:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
		<link rel="stylesheet" href="../css/reset.css" />
		<link rel="stylesheet" href="../css/global.css" />
		<link rel="stylesheet" href="../css/app.css" />
		<title>Todos los autos-AutoFacil</title>
		<link rel="icon" type="image/png" href="../favicon.png" sizes="32x32">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
	</head>

	<body>
		<header class="app-header">
            <div class="header-container">
                <!-- Logo -->
                <h1 href="#" class="header-logo">
                <span>AutoFácil - Credito Inmediato</span>
                </h1>

                <!-- BOTÓN HAMBURGUESA (nuevo) -->
                <button class="hamburger" aria-label="Menú" id="hamburger">
                <i class="fas fa-bars"></i>
                </button>

                <!-- Menú (solo añadimos id="main-nav") -->
                <nav class="header-nav" id="main-nav">
                <ul class="nav-list">
                    <li><a href="../" class="nav-link">Inicio</a></li>
                    <li><a href="#" class="nav-link active">Catálogo</a></li>
                    <li><a href="/remates" class="nav-link">Remates</a></li>
                    <li><a href="/nosotros" class="nav-link">Nosotros</a></li>
                    <li><a href="/contacto" class="nav-link">Contacto</a></li>
                </ul>
                </nav>

                <!-- Todo lo demás igual -->
                <div class="header-right">
                <div class="social-icons">
                    <a href="https://www.facebook.com/autofacil.tabasco/" aria-label="Facebook" target="_blank"><img src="../img/icons/facebook.svg" alt=""></a>
                    <a href="https://www.instagram.com/autofaciltab/" aria-label="Instagram" target="_blank"><img src="../img/icons/instagram.svg" alt=""></a>
                </div>
                <a href="/contacto" class="btn-demo hover-bright">Agendar Demo</a>
                </div>
            </div>
        </header>

		<div class="app">
			
			<div class="app-all-cars">
				<div class="app-container1Todos">
					<h1 class="app-titleTodos">Todos los Autos</h1>
					<p class="app-text-paragraph1Todos" id="total-cars-text">
						Cargando inventario...
					</p>
				</div>
            </div>
				
			<!-- INVENTARIO CON FILTROS -->
			<div class="app-section2">
			
				<div class="inventory-wrapper">
					
					<!-- FILTROS -->
					<aside class="filters-sidebar">
						<div class="filters-header">
							<h3 class="filters-title">Filtros</h3>
							<button class="filters-reset">Restablecer</button>
						</div>

						<!-- Filtros activos -->
						<div class="active-filters"></div>

						<!-- Año -->
						<div class="filter-group">
							<label class="filter-label">Rango de Año</label>
							<div class="range-slider-container">
								<div class="range-slider-track">
									<div class="range-slider-fill"></div>
								</div>
								<input type="range" min="2020" max="2024" value="2020" class="range-min">
								<input type="range" min="2020" max="2024" value="2024" class="range-max">
							</div>
							<div class="range-values">
								<span class="range-value-display" id="year-min-display">2020</span>
								<span class="range-value-display" id="year-max-display">2024</span>
							</div>
						</div>

						<!-- Precio -->
						<div class="filter-group">
							<label class="filter-label">Rango de Precio</label>
							<div class="range-slider-container">
								<div class="range-slider-track">
									<div class="range-slider-fill"></div>
								</div>
								<input type="range" min="0" max="300000" step="1000" value="0" class="range-min">
								<input type="range" min="0" max="300000" step="1000" value="300000" class="range-max">
							</div>
							<div class="range-values">
								<span class="range-value-display" id="price-min-display">$0</span>
								<span class="range-value-display" id="price-max-display">$300,000</span>
							</div>
						</div>

						<!-- Resto de filtros (se llenarán dinámicamente) -->
						<div class="filter-group">
							<label class="filter-label">Marca</label>
							<div class="checkbox-group" id="brand-filters">
								<!-- Se llenará con JS -->
							</div>
						</div>

					<!-- Motor -->
					<div class="filter-group">
						<label class="filter-label">Tipo de Motor</label>
						<div class="checkbox-group" id="fuel-filters">
							<!-- Se llenará con JS -->
						</div>
					</div>

					<!-- Tipo -->
					<div class="filter-group">
						<label class="filter-label">Tipo de Vehículo</label>
						<div class="checkbox-group" id="type-filters">
							<!-- Se llenará con JS -->
						</div>
					</div>
					</aside>

					<!-- GRID DE AUTOS -->
					<div class="inventory-main">
						<div class="inventory-header">
							<p class="inventory-count" id="inventory-count">Cargando vehículos...</p>
							<div class="sort-by">
								<label>Ordenar por:</label>
								<select class="sort-select">
									<option value="featured">Destacados</option>
									<option value="price-asc">Precio: menor a mayor</option>
									<option value="price-desc">Precio: mayor a menor</option>
									<option value="year-desc">Año: más reciente</option>
								</select>
							</div>
						</div>

						<div class="inventory-grid" id="cars-grid">
							<!-- Aquí se cargarán los autos desde la API -->
						</div>

						<!-- Botón de paginación (si es necesario) -->
						<div id="pagination" style="display: none;">
							<button id="load-more" class="btn app-btn2 hover-bright">Cargar más autos</button>
						</div>
					</div>
				</div>
			</div>
		</div>
			
			<div class="app-footer">
				<div class="footer-main">
					<!-- Columna 1: Logo y descripción -->
					<div class="footer-brand">
						<img src="../img/logoFooter.png" class="footer-logo" alt="AutoFácil Logo" />
						<p class="footer-description">
							Tu socio confiable para vehículos premium. Calidad, confiabilidad y servicio excepcional.
						</p>

						<!-- ICONOS DE REDES SOCIALES -->
						<div class="footer-social">
							<a href="https://facebook.com/autofacil" target="_blank" class="social-link" aria-label="Síguenos en Facebook">
							<img src="../img/icons/facebook.svg" alt="Facebook" class="social-icon" />
							</a>
							<a href="https://instagram.com/autofacil" target="_blank" class="social-link" aria-label="Síguenos en Instagram">
							<img src="../img/icons/instagram.svg" alt="Instagram" class="social-icon" />
							</a>
							<a href="https://twitter.com/autofacil" target="_blank" class="social-link" aria-label="Síguenos en Twitter">
							<img src="../img/icons/twitter.svg" alt="Twitter" class="social-icon" />
							</a>
						</div>
					</div>

					<!-- Columna 2: Enlaces Rápidos -->
					<div class="footer-column">
					<h3 class="footer-heading">Enlaces Rápidos</h3>
					<ul class="footer-list">
						<li><a href="index.html">Inicio</a></li>
						<li><a href="#">Catálogo</a></li>
						<li><a href="/nosotros">Nosotros</a></li>
						<li><a href="/contacto">Contacto</a></li>
					</ul>
					</div>

					<!-- Columna 3: Servicios -->
					<div class="footer-column">
					<h3 class="footer-heading">Servicios</h3>
					<ul class="footer-list">
						
						<li><a href="/vende-tu-auto">Vender tu Auto</a></li>
						<li><a href="/terminos-y-condiciones/">Términos y Condiciones</a></li>
						<li><a href="/aviso-de-privacidad">Aviso de Privacidad</a></li>
					</ul>
					</div>

					<!-- Columna 4: Contáctanos -->
					<div class="footer-column">
					<h3 class="footer-heading">Contáctanos</h3>
					<ul class="footer-contact">
						<li>
							<object data="../assets/app-icon.svg" type="image/svg+xml"></object>
							<span>Av. Paseo Tabasco esq. 27 de Febrero, Nueva Villahermosa, 86070.<br />
Periférico 1408, Tamulté de las Barrancas, 86150.<br />
Villahermosa, Tabasco.</span>
						</li>
						<li>
							<object data="../assets/list-item/list-item-icon1.svg" type="image/svg+xml"></object>
							<span>+52 (55) 1234-5678</span>
						</li>
						<li>
							<a href="mailto: info@autofacil.com.mx">
								<object data="../assets/list-item/list-item-icon2.svg" type="image/svg+xml"></object>
								<span>info@autofacil.com.mx</span>
							</a>
						</li>
					</ul>
					</div>
				</div>

				<!-- Línea divisoria y copyright -->
				<div class="footer-bottom">
					<p class="footer-copyright">
					© 2025 AutoFácil - Crédito Inmediato. Todos los derechos reservados.
					</p>
					<div class="footer-links">
					<a href="#" class="footer-link">Política de Privacidad</a>
					<span class="footer-separator">•</span>
					<a href="/terminos-y-condiciones/" class="footer-link">Términos y Condiciones</a>
					</div>
				</div>
			</div>
		</div>
		
		<script>
        document.addEventListener('DOMContentLoaded', function () {
            // ========================================
            // 1. CONFIGURACIÓN INICIAL Y VARIABLES
            // ========================================
            const API_URL = 'http://54.205.241.136/api/public/cars?limit=100';
            let allCars = [];
            let filteredCars = [];
            
            // Elementos del DOM
            const grid = document.getElementById('cars-grid');
            const countEl = document.getElementById('inventory-count');
            const totalCarsText = document.getElementById('total-cars-text');
            const resetBtn = document.querySelector('.filters-reset');
            const sortSelect = document.querySelector('.sort-select');
            const activeFiltersContainer = document.querySelector('.active-filters');
            
            // Sliders de rango
            const yearMin = document.querySelector('.range-min');
            const yearMax = document.querySelector('.range-max');
            const priceMin = document.querySelectorAll('.range-min')[1];
            const priceMax = document.querySelectorAll('.range-max')[1];
            
            const yearValMin = document.getElementById('year-min-display');
            const yearValMax = document.getElementById('year-max-display');
            const priceValMin = document.getElementById('price-min-display');
            const priceValMax = document.getElementById('price-max-display');
            
            const yearFill = document.querySelector('.range-slider-fill');
            const priceFill = document.querySelectorAll('.range-slider-fill')[1];
            
            // ========================================
            // 2. FUNCIONES PARA SLIDERS DE RANGO
            // ========================================
            function updateSliderFill(min, max, fill) {
                const minVal = parseInt(min.value);
                const maxVal = parseInt(max.value);
                const minPercent = ((minVal - min.min) / (min.max - min.min)) * 100;
                const maxPercent = ((maxVal - max.min) / (max.max - max.min)) * 100;
                fill.style.left = `${minPercent}%`;
                fill.style.width = `${maxPercent - minPercent}%`;
            }
            
            function updateYearDisplay() {
                yearValMin.textContent = yearMin.value;
                yearValMax.textContent = yearMax.value;
                updateSliderFill(yearMin, yearMax, yearFill);
            }
            
            function updatePriceDisplay() {
                priceValMin.textContent = `$${parseInt(priceMin.value).toLocaleString()}`;
                priceValMax.textContent = `$${parseInt(priceMax.value).toLocaleString()}`;
                updateSliderFill(priceMin, priceMax, priceFill);
            }
            
            // ========================================
            // 3. CARGAR DATOS DE LA API
            // ========================================
            async function loadCars() {
                try {
                    showLoading(true);
                    const res = await fetch(API_URL);
                    const data = await res.json();
                    allCars = data.cars || [];
                    
                    if (allCars.length === 0) {
                        showNoResults();
                        return;
                    }
                    
                    // Normalizar datos de la API
                    allCars = allCars.map(car => ({
                        ...car,
                        fuelTypeNormalized: car.fuelType === 'GASOLINE' ? 'Gasolina' : 
                                        car.fuelType === 'DIESEL' ? 'Diésel' : 
                                        car.fuelType === 'ELECTRIC' ? 'Eléctrico' : 
                                        'Híbrido',
                        transmissionNormalized: car.transmission === 'AUTOMATIC' ? 'Automática' : 'Manual'
                    }));
                    
                    // Calcular rangos dinámicos
                    updateFilterRanges();
                    
                    // Actualizar texto del título
                    totalCarsText.textContent = `Explora nuestro inventario completo de ${allCars.length} vehículos premium`;
                    
                    // Renderizar filtros y autos
                    renderFilters();
                    applyFiltersAndSort();
                    
                } catch (err) {
                    console.error('Error cargando vehículos:', err);
                    countEl.textContent = 'Error cargando vehículos';
                    grid.innerHTML = '<div class="error-message"><p>No se pudieron cargar los vehículos. Por favor, intente más tarde.</p></div>';
                } finally {
                    showLoading(false);
                }
            }
            
            function showLoading(isLoading) {
                if (isLoading) {
                    grid.innerHTML = `
                        <div style="grid-column: 1/-1; text-align: center; padding: 3rem;">
                            <p>Cargando vehículos...</p>
                        </div>
                    `;
                    countEl.textContent = 'Cargando...';
                }
            }
            
            function showNoResults() {
                grid.innerHTML = `
                    <div style="grid-column: 1/-1; text-align: center; padding: 3rem; color: #666;">
                        <p>No hay vehículos disponibles en este momento.</p>
                    </div>
                `;
                countEl.textContent = 'No hay vehículos';
            }
            
            // ========================================
            // 4. ACTUALIZAR RANGOS DE FILTROS
            // ========================================
            function updateFilterRanges() {
                if (allCars.length === 0) return;
                
                // Calcular años mínimo y máximo
                const years = allCars.map(car => car.year).filter(year => year);
                const minYear = years.length > 0 ? Math.min(...years) : 2020;
                const maxYear = years.length > 0 ? Math.max(...years) : 2024;
                
                // Calcular precios mínimo y máximo
                const prices = allCars.map(car => car.price).filter(price => price);
                const minPrice = prices.length > 0 ? Math.min(...prices) : 0;
                const maxPrice = prices.length > 0 ? Math.max(...prices) : 300000;
                
                // Actualizar sliders de año
                yearMin.min = minYear;
                yearMin.max = maxYear;
                yearMin.value = minYear;
                
                yearMax.min = minYear;
                yearMax.max = maxYear;
                yearMax.value = maxYear;
                
                // Actualizar sliders de precio
                priceMin.min = 0;
                priceMin.max = Math.ceil(maxPrice / 1000) * 1000;
                priceMin.value = 0;
                
                priceMax.min = 0;
                priceMax.max = Math.ceil(maxPrice / 1000) * 1000;
                priceMax.max = Math.ceil(maxPrice / 1000) * 1000;
                priceMax.value = Math.ceil(maxPrice / 1000) * 1000;
                
                // Actualizar displays
                updateYearDisplay();
                updatePriceDisplay();
            }
            
            // ========================================
            // 5. RENDERIZAR FILTROS
            // ========================================
            function renderFilters() {
                // Marcas
                const brands = [...new Set(allCars.map(car => car.brand))].sort();
                const brandContainer = document.getElementById('brand-filters');
                brandContainer.innerHTML = brands.map(brand => `
                    <label><input type="checkbox" name="brand" value="${brand}"> ${brand.replace(/_/g, ' ')}</label>
                `).join('');
                
                // Tipos de motor
                const fuelTypes = [...new Set(allCars.map(car => car.fuelTypeNormalized))].sort();
                const fuelContainer = document.getElementById('fuel-filters');
                fuelContainer.innerHTML = fuelTypes.map(fuel => `
                    <label><input type="checkbox" name="fuel" value="${fuel}"> ${fuel}</label>
                `).join('');
                
                // Tipos de vehículo
                const carTypes = [...new Set(allCars.map(car => car.type))].filter(type => type).sort();
                const typeContainer = document.getElementById('type-filters');
                typeContainer.innerHTML = carTypes.map(type => `
                    <label><input type="checkbox" name="type" value="${type}"> ${type}</label>
                `).join('');
            }
            
            // ========================================
            // 6. RENDERIZAR AUTOS
            // ========================================
            function renderCars(cars) {
                if (!cars || cars.length === 0) {
                    grid.innerHTML = `
                        <div class="no-results" style="grid-column: 1/-1; text-align: center; padding: 3rem; color: #666;">
                            <p>No se encontraron vehículos con los filtros seleccionados</p>
                        </div>
                    `;
                    return;
                }
                
                grid.innerHTML = cars.map(car => `
                    <div class="car-card"
                        data-brand="${car.brand}"
                        data-year="${car.year}"
                        data-price="${car.price}"
                        data-fuel="${car.fuelTypeNormalized}"
                        data-type="${car.type}"
                        data-id="${car.id}">
                        <div class="car-image" style="background-image: url('http://54.205.241.136${car.primaryImage || '/img/placeholder.jpg'}')">
                            ${car.isFeatured ? '<span class="badge">Destacado</span>' : ''}
                        </div>
                        <div class="car-info">
                            <h3>${car.title || `${car.brand} ${car.model || ''}`}</h3>
                            <p class="year">${car.year}</p>
                            <div class="specs">
                                <div class="spec-item">
                                    <object data="../img/Icon-km.svg" type="image/svg+xml" class="spec-icon"></object>
                                    <span>${(car.mileage || 0).toLocaleString()} km</span>
                                </div>
                                <div class="spec-item">
                                    <object data="../img/Icon-gasolina.png" type="image/svg+xml" class="spec-icon"></object>
                                    <span>${car.fuelTypeNormalized}</span>
                                </div>
                                <div class="spec-item">
                                    <object data="../img/Icon-automatica.png" type="image/svg+xml" class="spec-icon"></object>
                                    <span>${car.transmissionNormalized}</span>
                                </div>
                            </div>
                            <div class="price-action">
                                <strong>$${(car.price || 0).toLocaleString()}</strong>
                                <button class="btn" onclick="window.location.href='../detalle-auto/?id=${car.id}'">Ver Detalles</button>
                            </div>
                        </div>
                    </div>
                `).join('');
            }
            
            // ========================================
            // 7. FILTRAR AUTOS
            // ========================================
            function filterCars() {
                if (allCars.length === 0) return [];
                
                const minYear = parseInt(yearMin.value);
                const maxYear = parseInt(yearMax.value);
                const minPrice = parseInt(priceMin.value);
                const maxPrice = parseInt(priceMax.value);
                
                const selectedBrands = Array.from(document.querySelectorAll('input[name="brand"]:checked')).map(i => i.value);
                const selectedFuels = Array.from(document.querySelectorAll('input[name="fuel"]:checked')).map(i => i.value);
                const selectedTypes = Array.from(document.querySelectorAll('input[name="type"]:checked')).map(i => i.value);
                
                return allCars.filter(car => {
                    // Filtrar por año
                    const yearMatch = car.year >= minYear && car.year <= maxYear;
                    if (!yearMatch) return false;
                    
                    // Filtrar por precio
                    const priceMatch = car.price >= minPrice && car.price <= maxPrice;
                    if (!priceMatch) return false;
                    
                    // Filtrar por marca
                    if (selectedBrands.length > 0 && !selectedBrands.includes(car.brand)) {
                        return false;
                    }
                    
                    // Filtrar por tipo de motor
                    if (selectedFuels.length > 0 && !selectedFuels.includes(car.fuelTypeNormalized)) {
                        return false;
                    }
                    
                    // Filtrar por tipo de vehículo
                    if (selectedTypes.length > 0 && !selectedTypes.includes(car.type)) {
                        return false;
                    }
                    
                    return true;
                });
            }
            
            // ========================================
            // 8. ORDENAR AUTOS
            // ========================================
            function sortCars(cars) {
                const sortValue = sortSelect.value;
                
                return [...cars].sort((a, b) => {
                    switch (sortValue) {
                        case 'price-asc':
                            return a.price - b.price;
                        case 'price-desc':
                            return b.price - a.price;
                        case 'year-desc':
                            return b.year - a.year;
                        case 'featured':
                        default:
                            // Primero los destacados, luego por año más reciente
                            if (a.isFeatured && !b.isFeatured) return -1;
                            if (!a.isFeatured && b.isFeatured) return 1;
                            return b.year - a.year;
                    }
                });
            }
            
            // ========================================
            // 9. APLICAR FILTROS Y ORDENAMIENTO
            // ========================================
            function applyFiltersAndSort() {
                filteredCars = filterCars();
                const sortedCars = sortCars(filteredCars);
                
                countEl.textContent = `Mostrando ${sortedCars.length} de ${allCars.length} vehículos`;
                renderCars(sortedCars);
                updateActiveFilters();
            }
            
            // ========================================
            // 10. FILTROS ACTIVOS
            // ========================================
            function updateActiveFilters() {
                activeFiltersContainer.innerHTML = '';
                
                const currentMinYear = parseInt(yearMin.value);
                const currentMaxYear = parseInt(yearMax.value);
                const currentMinPrice = parseInt(priceMin.value);
                const currentMaxPrice = parseInt(priceMax.value);
                
                // Solo mostrar filtro de año si NO está en el rango completo
                if (currentMinYear > parseInt(yearMin.min) || currentMaxYear < parseInt(yearMax.max)) {
                    activeFiltersContainer.appendChild(createActiveFilterTag(`Año: ${currentMinYear}-${currentMaxYear}`, 'year'));
                }
                
                // Solo mostrar filtro de precio si NO está en el rango completo
                if (currentMinPrice > 0 || currentMaxPrice < parseInt(priceMax.max)) {
                    activeFiltersContainer.appendChild(createActiveFilterTag(
                        `$${Number(currentMinPrice).toLocaleString()} - $${Number(currentMaxPrice).toLocaleString()}`,
                        'price'
                    ));
                }
                
                const selectedBrands = Array.from(document.querySelectorAll('input[name="brand"]:checked')).map(i => i.value);
                if (selectedBrands.length > 0) {
                    activeFiltersContainer.appendChild(createActiveFilterTag(
                        `Marcas: ${selectedBrands.join(', ')}`,
                        'brand'
                    ));
                }
                
                const selectedFuels = Array.from(document.querySelectorAll('input[name="fuel"]:checked')).map(i => i.value);
                if (selectedFuels.length > 0) {
                    activeFiltersContainer.appendChild(createActiveFilterTag(
                        `Motor: ${selectedFuels.join(', ')}`,
                        'fuel'
                    ));
                }
                
                const selectedTypes = Array.from(document.querySelectorAll('input[name="type"]:checked')).map(i => i.value);
                if (selectedTypes.length > 0) {
                    activeFiltersContainer.appendChild(createActiveFilterTag(
                        `Tipo: ${selectedTypes.join(', ')}`,
                        'type'
                    ));
                }
            }
            
            function createActiveFilterTag(text, type) {
                const div = document.createElement('div');
                div.className = 'active-filter-tag';
                div.innerHTML = `${text} <button data-filter="${type}">×</button>`;
                
                div.querySelector('button').addEventListener('click', function() {
                    clearFilter(type);
                });
                
                return div;
            }
            
            function clearFilter(type) {
                switch (type) {
                    case 'year':
                        yearMin.value = parseInt(yearMin.min);
                        yearMax.value = parseInt(yearMax.max);
                        updateYearDisplay();
                        break;
                    case 'price':
                        priceMin.value = 0;
                        priceMax.value = parseInt(priceMax.max);
                        updatePriceDisplay();
                        break;
                    case 'brand':
                        document.querySelectorAll('input[name="brand"]').forEach(c => c.checked = false);
                        break;
                    case 'fuel':
                        document.querySelectorAll('input[name="fuel"]').forEach(c => c.checked = false);
                        break;
                    case 'type':
                        document.querySelectorAll('input[name="type"]').forEach(c => c.checked = false);
                        break;
                }
                applyFiltersAndSort();
            }
            
            // ========================================
            // 11. CONFIGURAR EVENTOS
            // ========================================
            function setupEventListeners() {
                // Eventos para sliders
                yearMin.addEventListener('input', updateYearDisplay);
                yearMax.addEventListener('input', updateYearDisplay);
                priceMin.addEventListener('input', updatePriceDisplay);
                priceMax.addEventListener('input', updatePriceDisplay);
                
                // Eventos para aplicar filtros
                yearMin.addEventListener('change', applyFiltersAndSort);
                yearMax.addEventListener('change', applyFiltersAndSort);
                priceMin.addEventListener('change', applyFiltersAndSort);
                priceMax.addEventListener('change', applyFiltersAndSort);
                
                // Eventos para checkboxes
                document.addEventListener('change', function(e) {
                    if (e.target.matches('input[type="checkbox"]')) {
                        applyFiltersAndSort();
                    }
                });
                
                // Evento para ordenar
                sortSelect.addEventListener('change', applyFiltersAndSort);
                
                // Evento para resetear
                resetBtn.addEventListener('click', function() {
                    // Restablecer sliders de año
                    yearMin.value = parseInt(yearMin.min);
                    yearMax.value = parseInt(yearMax.max);
                    
                    // Restablecer sliders de precio
                    priceMin.value = 0;
                    priceMax.value = parseInt(priceMax.max);
                    
                    // Restablecer checkboxes
                    document.querySelectorAll('input[type="checkbox"]').forEach(c => c.checked = false);
                    
                    // Restablecer orden
                    sortSelect.value = 'featured';
                    
                    // Actualizar displays
                    updateYearDisplay();
                    updatePriceDisplay();
                    
                    // Aplicar filtros
                    applyFiltersAndSort();
                });
            }
            
            // ========================================
            // 12. INICIALIZACIÓN
            // ========================================
            function init() {
                setupEventListeners();
                loadCars();
            }
            
            // Iniciar la aplicación
            init();
        });
        </script>

        <script>
            // === MENÚ HAMBURGUESA FULL-SCREEN ===
            const hamburger = document.getElementById('hamburger');
            const nav = document.getElementById('main-nav');
            const body = document.body;

            // Crear overlay si no existe
            let overlay = document.querySelector('.menu-overlay');
            if (!overlay) {
            overlay = document.createElement('div');
            overlay.className = 'menu-overlay';
            body.appendChild(overlay);
            }

            hamburger.addEventListener('click', () => {
            nav.classList.toggle('open');
            body.classList.toggle('menu-open');
            hamburger.querySelector('i').classList.toggle('fa-bars');
            hamburger.querySelector('i').classList.toggle('fa-xmark');
            });

            overlay.addEventListener('click', () => {
            nav.classList.remove('open');
            body.classList.remove('menu-open');
            hamburger.querySelector('i').classList.replace('fa-xmark', 'fa-bars');
            });

            document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', () => {
                nav.classList.remove('open');
                body.classList.remove('menu-open');
                hamburger.querySelector('i').classList.replace('fa-xmark', 'fa-bars');
            });
            });
        </script>
	</body>
</html>